<?xml version="1.0" encoding="UTF-8"?>
<svg width="256" height="256" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="">
  <defs>
    <!-- Background -->
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0f172a"/>
      <stop offset="100%" stop-color="#111827"/>
    </linearGradient>

    <!-- Base & highlight link strokes -->
    <linearGradient id="linkBase" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#3b82f6"/>
      <stop offset="100%" stop-color="#8b5cf6"/>
    </linearGradient>
    <linearGradient id="linkHi" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#67e8f9"/>
      <stop offset="100%" stop-color="#a78bfa"/>
    </linearGradient>

    <!-- Node gradient -->
    <radialGradient id="node" cx="50%" cy="40%" r="60%">
      <stop offset="0%" stop-color="#f4f3ff"/>
      <stop offset="60%" stop-color="#a78bfa"/>
      <stop offset="100%" stop-color="#7c3aed"/>
    </radialGradient>

    <!-- Glow -->
    <filter id="glow" x="-60%" y="-60%" width="220%" height="220%">
      <feGaussianBlur stdDeviation="0.9" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>

    <!-- Moving beam mask (white reveals, black hides) -->
    <linearGradient id="beamGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%"   stop-color="black"/>
      <stop offset="35%"  stop-color="white"/>
      <stop offset="65%"  stop-color="white"/>
      <stop offset="100%" stop-color="black"/>
    </linearGradient>
    <mask id="beamMask" maskUnits="userSpaceOnUse">
      <rect width="64" height="64" fill="black"/>
      <g class="beam">
        <!-- Wider than the artboard for soft edges -->
        <rect x="-24" y="-4" width="32" height="72" fill="url(#beamGrad)"/>
      </g>
    </mask>

    <style>
      /* Global timings */
      :root { --dur: 3.6s; }

      /* Sweep the beam left -> right */
      .beam {
        animation: sweep var(--dur) linear infinite;
        transform-box: fill-box;
        transform-origin: 0 0; /* animate in SVG coords */
      }
      @keyframes sweep {
        from { transform: translateX(-24px); }
        to   { transform: translateX(88px); } /* 64 + margin */
      }

      /* Pop each neuron when the beam reaches it */
      .node {
        transform-box: fill-box;
        transform-origin: center;
        animation: pulse var(--dur) ease-in-out infinite;
      }
      @keyframes pulse {
        0%, 18%, 100% { transform: scale(1); }
        9%            { transform: scale(1.18); }
      }

      /* Tweak link rendering */
      .links { stroke-linecap: round; stroke-linejoin: round; }
    </style>
  </defs>

  <!-- Rounded background (remove for transparent corners) -->
  <rect x="2" y="2" width="60" height="60" rx="14" fill="url(#bg)"/>

  <!-- ===== Network geometry (3–4–2) ===== -->
  <!-- Positions: Inputs @ x=14 (y:14,32,50); Hidden @ x=32 (y:12,28,44,58); Outputs @ x=50 (y:22,42) -->

  <!-- Base links -->
  <g class="links" fill="none" stroke="url(#linkBase)" stroke-width="2" opacity="0.9">
    <!-- Input -> Hidden (dense) -->
    <line x1="14" y1="14" x2="32" y2="12"/><line x1="14" y1="14" x2="32" y2="28"/>
    <line x1="14" y1="14" x2="32" y2="44"/><line x1="14" y1="14" x2="32" y2="58"/>

    <line x1="14" y1="32" x2="32" y2="12"/><line x1="14" y1="32" x2="32" y2="28"/>
    <line x1="14" y1="32" x2="32" y2="44"/><line x1="14" y1="32" x2="32" y2="58"/>

    <line x1="14" y1="50" x2="32" y2="12"/><line x1="14" y1="50" x2="32" y2="28"/>
    <line x1="14" y1="50" x2="32" y2="44"/><line x1="14" y1="50" x2="32" y2="58"/>

    <!-- Hidden -> Output (dense) -->
    <line x1="32" y1="12" x2="50" y2="22"/><line x1="32" y1="28" x2="50" y2="22"/>
    <line x1="32" y1="44" x2="50" y2="22"/><line x1="32" y1="58" x2="50" y2="22"/>

    <line x1="32" y1="12" x2="50" y2="42"/><line x1="32" y1="28" x2="50" y2="42"/>
    <line x1="32" y1="44" x2="50" y2="42"/><line x1="32" y1="58" x2="50" y2="42"/>
  </g>

  <!-- Highlight links revealed by the moving mask (the "shine") -->
  <g class="links" fill="none" stroke="url(#linkHi)" stroke-width="2.6" opacity="0.95" mask="url(#beamMask)">
    <!-- Same geometry as base -->
    <use href="#L" />
    <line x1="14" y1="14" x2="32" y2="12"/><line x1="14" y1="14" x2="32" y2="28"/>
    <line x1="14" y1="14" x2="32" y2="44"/><line x1="14" y1="14" x2="32" y2="58"/>

    <line x1="14" y1="32" x2="32" y2="12"/><line x1="14" y1="32" x2="32" y2="28"/>
    <line x1="14" y1="32" x2="32" y2="44"/><line x1="14" y1="32" x2="32" y2="58"/>

    <line x1="14" y1="50" x2="32" y2="12"/><line x1="14" y1="50" x2="32" y2="28"/>
    <line x1="14" y1="50" x2="32" y2="44"/><line x1="14" y1="50" x2="32" y2="58"/>

    <line x1="32" y1="12" x2="50" y2="22"/><line x1="32" y1="28" x2="50" y2="22"/>
    <line x1="32" y1="44" x2="50" y2="22"/><line x1="32" y1="58" x2="50" y2="22"/>

    <line x1="32" y1="12" x2="50" y2="42"/><line x1="32" y1="28" x2="50" y2="42"/>
    <line x1="32" y1="44" x2="50" y2="42"/><line x1="32" y1="58" x2="50" y2="42"/>
  </g>

  <!-- Nodes (with staggered pulse delays matching the beam travel) -->
  <g filter="url(#glow)">
    <!-- Inputs (x=14) -->
    <circle class="node" cx="14" cy="14" r="4.3" fill="url(#node)" style="animation-delay: .70s;"/>
    <circle class="node" cx="14" cy="32" r="4.3" fill="url(#node)" style="animation-delay: .80s;"/>
    <circle class="node" cx="14" cy="50" r="4.3" fill="url(#node)" style="animation-delay: .90s;"/>

    <!-- Hidden (x=32) -->
    <circle class="node" cx="32" cy="12" r="4.1" fill="url(#node)" style="animation-delay: 1.70s;"/>
    <circle class="node" cx="32" cy="28" r="4.1" fill="url(#node)" style="animation-delay: 1.85s;"/>
    <circle class="node" cx="32" cy="44" r="4.1" fill="url(#node)" style="animation-delay: 1.98s;"/>
    <circle class="node" cx="32" cy="58" r="4.1" fill="url(#node)" style="animation-delay: 2.10s;"/>

    <!-- Outputs (x=50) -->
    <circle class="node" cx="50" cy="22" r="4.6" fill="url(#node)" style="animation-delay: 2.70s;"/>
    <circle class="node" cx="50" cy="42" r="4.6" fill="url(#node)" style="animation-delay: 2.90s;"/>
  </g>
</svg>
