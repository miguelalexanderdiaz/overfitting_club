<?xml version="1.0" encoding="UTF-8"?>
<svg width="256" height="256" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="">
  <defs>
    <!-- Background -->
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0f172a"/>
      <stop offset="100%" stop-color="#111827"/>
    </linearGradient>

    <!-- Base & highlight link strokes -->
    <linearGradient id="linkBase" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#3b82f6"/>
      <stop offset="100%" stop-color="#8b5cf6"/>
    </linearGradient>
    <linearGradient id="linkHi" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#67e8f9"/>
      <stop offset="100%" stop-color="#a78bfa"/>
    </linearGradient>

    <!-- Node gradients -->
    <radialGradient id="node" cx="50%" cy="40%" r="60%">
      <stop offset="0%" stop-color="#f4f3ff"/>
      <stop offset="60%" stop-color="#a78bfa"/>
      <stop offset="100%" stop-color="#7c3aed"/>
    </radialGradient>
    <!-- Active hue (cyan tilt) -->
    <radialGradient id="nodeActive" cx="45%" cy="35%" r="65%">
      <stop offset="0%" stop-color="#e6ffff"/>
      <stop offset="55%" stop-color="#67e8f9"/>
      <stop offset="100%" stop-color="#22d3ee"/>
    </radialGradient>

    <!-- Glow -->
    <filter id="glow" x="-60%" y="-60%" width="220%" height="220%">
      <feGaussianBlur stdDeviation="0.9" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>

    <!-- Moving beam mask (white reveals, black hides) -->
    <linearGradient id="beamGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%"   stop-color="black"/>
      <stop offset="35%"  stop-color="white"/>
      <stop offset="65%"  stop-color="white"/>
      <stop offset="100%" stop-color="black"/>
    </linearGradient>
    <mask id="beamMask" maskUnits="userSpaceOnUse">
      <rect width="64" height="64" fill="black"/>
      <g class="beam">
        <rect x="-24" y="-4" width="32" height="72" fill="url(#beamGrad)"/>
      </g>
    </mask>

    <style>
      :root { --dur: 3.6s; } /* sweep + pulses duration */

      /* Sweep the beam left -> right */
      .beam {
        animation: sweep var(--dur) linear infinite;
        transform-box: fill-box;
        transform-origin: 0 0;
      }
      @keyframes sweep {
        from { transform: translateX(-24px); }
        to   { transform: translateX(88px); } /* 64 + margin */
      }

      /* Neuron pop */
      .node {
        transform-box: fill-box;
        transform-origin: center;
        animation: pulse var(--dur) ease-in-out infinite;
      }
      @keyframes pulse {
        0%, 18%, 100% { transform: scale(1); }
        9%            { transform: scale(1.18); }
      }

      /* Brief hue/brightness flash exactly when pulsing */
      .flash {
        opacity: 0;
        mix-blend-mode: screen;
        animation: flash var(--dur) linear infinite;
      }
      @keyframes flash {
        0%, 7%, 100% { opacity: 0; }
        8.5%         { opacity: 1; }
        12%          { opacity: 0; }
      }

      .links { stroke-linecap: round; stroke-linejoin: round; }

      /* --- Column-synchronous firing --- */
      /* Set one delay per column via the group's --d custom property */
      .col .node  { animation-delay: var(--d); }
      .col .flash { animation-delay: var(--d); }
    </style>
  </defs>

  <!-- Rounded background (remove for transparent corners) -->
  <rect x="2" y="2" width="60" height="60" rx="14" fill="url(#bg)"/>

  <!-- ===== Network geometry (3–4–2) ===== -->
  <!-- Positions: Inputs @ x=14 (y:14,32,50); Hidden @ x=32 (y:12,28,44,58); Outputs @ x=50 (y:22,42) -->

  <!-- Base links -->
  <g class="links" fill="none" stroke="url(#linkBase)" stroke-width="2" opacity="0.9">
    <!-- Input -> Hidden (dense) -->
    <line x1="14" y1="14" x2="32" y2="12"/><line x1="14" y1="14" x2="32" y2="28"/>
    <line x1="14" y1="14" x2="32" y2="44"/><line x1="14" y1="14" x2="32" y2="58"/>

    <line x1="14" y1="32" x2="32" y2="12"/><line x1="14" y1="32" x2="32" y2="28"/>
    <line x1="14" y1="32" x2="32" y2="44"/><line x1="14" y1="32" x2="32" y2="58"/>

    <line x1="14" y1="50" x2="32" y2="12"/><line x1="14" y1="50" x2="32" y2="28"/>
    <line x1="14" y1="50" x2="32" y2="44"/><line x1="14" y1="50" x2="32" y2="58"/>

    <!-- Hidden -> Output (dense) -->
    <line x1="32" y1="12" x2="50" y2="22"/><line x1="32" y1="28" x2="50" y2="22"/>
    <line x1="32" y1="44" x2="50" y2="22"/><line x1="32" y1="58" x2="50" y2="22"/>

    <line x1="32" y1="12" x2="50" y2="42"/><line x1="32" y1="28" x2="50" y2="42"/>
    <line x1="32" y1="44" x2="50" y2="42"/><line x1="32" y1="58" x2="50" y2="42"/>
  </g>

  <!-- Highlight links revealed by the moving mask (the "shine") -->
  <g class="links" fill="none" stroke="url(#linkHi)" stroke-width="2.6" opacity="0.95" mask="url(#beamMask)">
    <!-- same geometry -->
    <line x1="14" y1="14" x2="32" y2="12"/><line x1="14" y1="14" x2="32" y2="28"/>
    <line x1="14" y1="14" x2="32" y2="44"/><line x1="14" y1="14" x2="32" y2="58"/>

    <line x1="14" y1="32" x2="32" y2="12"/><line x1="14" y1="32" x2="32" y2="28"/>
    <line x1="14" y1="32" x2="32" y2="44"/><line x1="14" y1="32" x2="32" y2="58"/>

    <line x1="14" y1="50" x2="32" y2="12"/><line x1="14" y1="50" x2="32" y2="28"/>
    <line x1="14" y1="50" x2="32" y2="44"/><line x1="14" y1="50" x2="32" y2="58"/>

    <line x1="32" y1="12" x2="50" y2="22"/><line x1="32" y1="28" x2="50" y2="22"/>
    <line x1="32" y1="44" x2="50" y2="22"/><line x1="32" y1="58" x2="50" y2="22"/>

    <line x1="32" y1="12" x2="50" y2="42"/><line x1="32" y1="28" x2="50" y2="42"/>
    <line x1="32" y1="44" x2="50" y2="42"/><line x1="32" y1="58" x2="50" y2="42"/>
  </g>

  <!-- Nodes grouped by column for synchronized firing -->
  <g filter="url(#glow)">
    <!-- Inputs (x=14) -->
    <g class="col" style="--d: .80s;">
      <circle class="node"  cx="14" cy="14" r="4.3" fill="url(#node)"/>
      <circle class="flash" cx="14" cy="14" r="4.3" fill="url(#nodeActive)"/>
      <circle class="node"  cx="14" cy="32" r="4.3" fill="url(#node)"/>
      <circle class="flash" cx="14" cy="32" r="4.3" fill="url(#nodeActive)"/>
      <circle class="node"  cx="14" cy="50" r="4.3" fill="url(#node)"/>
      <circle class="flash" cx="14" cy="50" r="4.3" fill="url(#nodeActive)"/>
    </g>

    <!-- Hidden (x=32) -->
    <g class="col" style="--d: 1.95s;">
      <circle class="node"  cx="32" cy="12" r="4.1" fill="url(#node)"/>
      <circle class="flash" cx="32" cy="12" r="4.1" fill="url(#nodeActive)"/>
      <circle class="node"  cx="32" cy="28" r="4.1" fill="url(#node)"/>
      <circle class="flash" cx="32" cy="28" r="4.1" fill="url(#nodeActive)"/>
      <circle class="node"  cx="32" cy="44" r="4.1" fill="url(#node)"/>
      <circle class="flash" cx="32" cy="44" r="4.1" fill="url(#nodeActive)"/>
      <circle class="node"  cx="32" cy="58" r="4.1" fill="url(#node)"/>
      <circle class="flash" cx="32" cy="58" r="4.1" fill="url(#nodeActive)"/>
    </g>

    <!-- Outputs (x=50) -->
    <g class="col" style="--d: 2.80s;">
      <circle class="node"  cx="50" cy="22" r="4.6" fill="url(#node)"/>
      <circle class="flash" cx="50" cy="22" r="4.6" fill="url(#nodeActive)"/>
      <circle class="node"  cx="50" cy="42" r="4.6" fill="url(#node)"/>
      <circle class="flash" cx="50" cy="42" r="4.6" fill="url(#nodeActive)"/>
    </g>
  </g>
</svg>
